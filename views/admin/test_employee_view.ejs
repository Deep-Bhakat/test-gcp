<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<div class="container my-4  mx-auto rounded border">
  <div class="container mx-20 my-2 ">

      <form class="needs-validation" novalidate enctype="multipart/form-data" method="post" action="/admin/employee-edit">
          <div class="row">
              <div class="col-md-9"></div>
              <div align="center" class="col-md-3">
                  <img src="../../<%= employee.photo %>" height="100px" width="100px" id="preview" class="border border-2 img-fluid" />
                  <div class="">
                      <input class="form-control" id="photo" hidden type="file" title="Select Photo" onchange="showPreview(event,'preview')" name="photo" />
                  </div>

              </div>
          </div>
          <div class="row">
              <div class="col-12">
                  <span style="background-color: #575555; color: #f8f3f2; font-weight: bolder; font-size: 16px; padding: 10px; ";> Employee General Information</span>
              </div>
          </div>
          <div class="row " style="margin-top: 10px; margin-left: 50px; ">
              <div class="col-12 ">
             Company Name : <%= employee.company_master.company_name %>
                 
              </div>
              <div class="col-12  ">   
                <br>         

            </div>
              <div class="col-12  ">
               Client Name : <%= employee.client_master.client_name %>           
              </div>
              <div class="col-12  ">   
                  <br>         
               </div>
              <div class="col-12  ">
                <label for="validationCustom04 ">Date Of Joining: <%= employee.date_of_joining %> </label>
                
              </div>
              <div class="col-12  ">   
                <br>         
             </div>
              <div class="col-12  ">
                <label for="validationCustom04 ">Emp Code : <%= employee.emp_code %></label>
              </div>
          </div>
          <div class="row "  style="margin-left: 50px; ">   
            <div class="col-12  ">   
                <br>         
             </div>          
            <div class="col-12  ">
                <label for="validationCustom04 ">Title: <%= employee.emp_title %></label>             
              </div>
              <div class="col-12  ">   
                <br>         
             </div>  
              <div class="col-12  ">
                <label for="validationCustom04 ">Employee Name : <%= employee.emp_name %></label>
               </div>
               <div class="col-12  ">   
                <br>         
             </div> 
              <div class="col-12  ">
                <label for="validationCustom04 ">Father / Husband : <%= employee.father_name %></label>
               </div>
               <div class="col-12  ">   
                <br>         
             </div> 
              <div class="col-12  ">
                <label for="validationCustom04 ">Date of Birth : <%= employee.dob %> </label>
                          </div>
                          <div class="col-12  ">   
                            <br>         
                         </div>
              <div class="col-12  ">
                <label for="validationCustom04 ">Gender : <%= employee.gender %></label>           
              </div>
              <div class="col-12  ">   
                <br>         
             </div>
          </div>
         
         
          <div class="row "  style="margin-left: 50px; ">
            <div class="col-12  ">
                <label for="validationCustom02 ">Address : <%= employee.address %></label>
            
              </div>
              <div class="col-12  ">   
                <br>         
             </div>
              <div class="col-12  ">
                <label for="validationCustom02 ">State : <%= employee.state %></label>
    
              </div>
              <div class="col-12  ">   
                <br>         
             </div>
              <div class="col-12  ">
                <label for="validationCustom02 ">Pin Code : <%= employee.pin %></label>           
              </div>
              <div class="col-12  ">   
                <br>         
             </div>

          </div>
          <div class="row "  style="margin-left: 50px; ">
            <div class="col-12  ">
                <label for="validationCustom04 ">Mobile No : <%= employee.mobile %></label>
                  </div>
                  <div class="col-12  ">   
                    <br>         
                 </div>
              <div class="col-12  ">
                <label for="validationCustom05 ">Aadhar No : <%= employee.aadhar %></label>
                       </div>
                       <div class="col-12  ">   
                        <br>         
                     </div>
              <div class="col-12  ">
                <label for="validationCustom05 ">PAN No : <%= employee.pan %></label>
                   </div>
                   <div class="col-12  ">   
                    <br>         
                 </div>
              <div class="col-12  ">
                <label for="validationCustom04 ">Matrial Status : <%= employee.maritial_status %></label>
                   </div>
                   <div class="col-12  ">   
                    <br>         
                 </div>
          </div>
          <div class="row "  style="margin-top: 10px; ">
            <div class="col-12 ">
                  <span style="background-color: #575555; color: #f8f3f2; font-weight: bolder; font-size: 16px; padding: 10px; " ;> Employee Bank Account Information</span>
              </div>
          </div>

          <div class="row " style="margin-top: 10px;margin-left: 50px; ">
            <div class="col-12  ">
                <label for="validationCustom05 ">Beneficiary Name : <%= employee.beneficiary %></label>
                  </div>
                  <div class="col-12  ">   
                    <br>         
                 </div>
              <div class="col-12  ">
                <label for="validationCustom04 ">Bank Account No : <%= employee.bank_ac %></label>
                          </div>
                          <div class="col-12  ">   
                            <br>         
                         </div>
                  <div class="col-12  ">
                    <label for="validationCustom05 ">IFSC : <%= employee.ifsc %></label>
                               </div>
                               <div class="col-12  ">   
                                <br>         
                             </div>
                  <div class="col-12  ">
                    <label for="validationCustom05 ">Bank Name : <%= employee.bank_name %></label>
                                     </div>  
                                     <div class="col-12  ">   
                                        <br>         
                                     </div>           
              </div>
              <div class="row " style="margin-top: 10px; ">
                  <div class="col-12 ">
                  <span style="background-color: #575555; color: #f8f3f2; font-weight: bolder; font-size: 16px; padding: 10px; " ;> Employee Other Information</span>
              </div>
          </div>
          <div class="row " style="margin-top: 10px; margin-left: 50px; ">
                     
                      
            <div class="col-12  ">
                <label for="validationCustom05 ">PF No : <%= employee.pf %></label>
                               </div>
                               <div class="col-12  ">   
                                <br>         
                             </div>
                      <div class="col-12  ">
                        <label for="validationCustom05 ">ESIC No : <%= employee.esic %></label>
                                      </div>
                                      <div class="col-12  ">   
                                        <br>         
                                     </div>
                  </div>
                  <div class="row "  style="margin-left: 50px; ">
                    
                    <div class="col-12  ">
                        <label for="validationCustom04 ">Date Of Exit : <%= employee.date_of_exit %></label>
                                   </div>
                                   <div class="col-12  ">   
                                    <br>         
                                 </div>
                      <div class="col-12  ">
                        <label for="validationCustom04 ">Remarks : <%= employee.remarks %></label>
                                    </div>
                                    <div class="col-12  ">   
                                        <br>         
                                     </div>
                  </div>
       

        
          <!-- <button class="btn btn-primary" type="button">Print</button> -->
      </form>

      <script>
          // Example starter JavaScript for disabling form submissions if there are invalid fields
          (function() {
              'use strict';
              window.addEventListener('load', function() {
                  // Fetch all the forms we want to apply custom Bootstrap validation styles to
                  var forms = document.getElementsByClassName('needs-validation');
                  // Loop over them and prevent submission
                  var validation = Array.prototype.filter.call(forms, function(form) {
                      form.addEventListener('submit', function(event) {
                          if (form.checkValidity() === false) {
                              event.preventDefault();
                              event.stopPropagation();
                          }
                          form.classList.add('was-validated');
                      }, false);
                  });
              }, false);
          })();
      </script>
  </div>
</div>

<script>
  function showPreview(event,id) {
      //document.getElementById("isImage ").value = "1 ";
      if (event.target.files.length > 0) {
          let src = URL.createObjectURL(event.target.files[0]);
          //$("#photo ").val(event.target.files[0].size/1024);
          let preview = document.getElementById(id);
          preview.src = src;
          preview.style.width = "120px ";
          preview.style.height = "150px ";
          preview.style.display = "block ";
      }
  }
  function showPreviews(event) {
      //document.getElementById("isImage").value = "1";
      var div = document.getElementById('previewDocuments');
      div.innerHTML="";
      if (event.target.files.length > 0) {
          for (var i = 0; i < event.target.files.length; i++) {
              let src = URL.createObjectURL(event.target.files[i]);
              let preview = document.createElement('img');
              preview.src = src;
              preview.style.width = "120px";
              preview.style.height = "150px";
              preview.style.display = "block";
              preview.style.border = "1px solid black";
              preview.style.marginLeft = "10px";
              div.appendChild(preview);
          }
      }
  }

  function getClient(val){
      $.ajax({
      type: 'POST',
      url: '/admin/getClientForCompany',
      data: {val:val},
      success: function(clients) {
          var html = '';
          html+='<option value="">--SELECT--</option>';
          for (var i = 0; i< clients.length; i++) {
          html+=`
          <option value="${clients[i].id}">${clients[i].client_name}</option>
          `
       }
      $('#clientSelect').html(html);
      }
    });    
  }

</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js "></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js "></script>

